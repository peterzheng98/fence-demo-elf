#0: FuncEntry 0xfffff7e2ccb0
#0: FuncExit
#0: FuncEntry 0xfffff7fbdfbc
#0: FuncExit
#0: FuncEntry 0xfffff7e5c2bc
#0: FuncExit
#0: FuncEntry 0xfffff7e5c2c8
#0: FuncExit
#0: FuncEntry 0xfffff7e5c2e0
#0: FuncExit
#0: FuncEntry 0xfffff7e2cd44
#0: FuncExit
#0: FuncEntry 0xfffff7e2cf94
#0: FuncExit
#0: FuncEntry 0xfffff7fbdfbc
#0: FuncExit
#0: FuncEntry 0x0000004d9100
#0: FuncEntry 0x0000004217c0
#0: FuncEntry 0xfffff7e445e8
#0: FuncEntry 0xfffff7e42d3c
#0: FuncExit
#0: FuncEntry 0xfffff7e6b8f4
#0: FuncExit
#0: FuncEntry 0xfffff7e43b38
#0: FuncExit
#0: FuncEntry 0xfffff7e42d3c
#0: FuncExit
#0: FuncEntry 0xfffff7e42d3c
#0: FuncExit
#0: FuncEntry 0xfffff7e42d3c
#0: FuncExit
#0: FuncEntry 0xfffff7e42d3c
#0: FuncExit
#0: FuncEntry 0xfffff7e42d3c
#0: FuncExit
#0: FuncEntry 0xfffff7e42d3c
#0: FuncExit
#0: FuncEntry 0xfffff7e42d3c
#0: FuncExit
#0: FuncEntry 0xfffff7e42d3c
#0: FuncExit
#0: FuncEntry 0xfffff7e42d3c
#0: FuncExit
#0: FuncEntry 0xfffff7e42d3c
#0: FuncExit
#0: FuncEntry 0xfffff7e42d3c
#0: FuncExit
#0: FuncEntry 0xfffff7e42d3c
#0: FuncExit
#0: FuncEntry 0xfffff7e42d3c
#0: FuncExit
#0: FuncExit
#0: FuncEntry 0xfffff7e445e8
#0: FuncExit
#0: FuncEntry 0xfffff7e445e8
#0: FuncExit
#0: FuncEntry 0xfffff7e445e8
#0: FuncExit
#0: FuncEntry 0xfffff7e445e8
#0: FuncExit
#0: FuncEntry 0xfffff7e329b4
#0: FuncExit
#0: FuncEntry 0xfffff7e329b4
#0: FuncExit
#0: FuncEntry 0xfffff7e445e8
#0: FuncExit
#0: FuncEntry 0xfffff7e445e8
#0: FuncExit
#0: FuncEntry 0xfffff7e329b4
#0: FuncExit
#0: FuncEntry 0xfffff7e329b4
#0: FuncExit
#0: FuncEntry 0xfffff7e445e8
#0: FuncExit
#0: FuncEntry 0xfffff7e445e8
#0: FuncExit
#0: FuncEntry 0xfffff7e329b4
#0: FuncExit
#0: FuncEntry 0xfffff7e329b4
#0: FuncExit
#0: FuncEntry 0xfffff7e445e8
#0: FuncExit
#0: FuncEntry 0xfffff7e445e8
#0: FuncExit
#0: FuncEntry 0xfffff7e329b4
#0: FuncExit
#0: FuncEntry 0xfffff7e329b4
#0: FuncExit
#0: FuncEntry 0xfffff7e445e8
#0: FuncExit
#0: FuncEntry 0xfffff7e445e8
#0: FuncExit
#0: FuncEntry 0xfffff7e445e8
#0: FuncExit
#0: FuncEntry 0xfffff7e445e8
#0: FuncExit
#0: FuncEntry 0xfffff7e445e8
#0: FuncExit
#0: FuncEntry 0xfffff7e445e8
#0: FuncExit
#0: FuncEntry 0xfffff7e445e8
#0: FuncExit
#0: FuncEntry 0xfffff7e445e8
#0: FuncExit
#0: FuncEntry 0xfffff7e445e8
#0: FuncExit
#0: FuncEntry 0xfffff7e445e8
#0: FuncExit
#0: FuncEntry 0xfffff7e445e8
#0: FuncExit
#0: FuncEntry 0x000000421780
#0: FuncExit
#0: FuncExit
#0: FuncExit
#0: FuncEntry 0xfffff7ab0ae0
#0: MemoryAccess: @0x0000004d81c0 0xfffffffff4c0 size=8 is_write=0 shadow_mem=0x003fffffd300 {0, 0, 0, 0}
#0: FuncEntry 0xfffff7ecc40c
#0: FuncExit
#0: FuncEntry 0x0000004d8208
#0: FuncEntry 0x0000004d8bb0
#0: FuncEntry 0x0000004d8c38
#0: MemoryAccess: @0x0000004d8dbc 0xfffff7a30378 size=4 is_write=0 shadow_mem=0x003fde8c0de0 {0, 0, 0, 0}
#0: MemoryAccess: @0x0000004d8dd0 0xffffffffef58 size=4 is_write=1 shadow_mem=0x003fffffbd60 {0, 0, 0, 0}
#0: MemoryAccess: @0x0000004d8de8 0xfffff7a30378 size=4 is_write=1 shadow_mem=0x003fde8c0de0 {c0000000208e, 0, 0, 0}
#0: FuncExit
#0: MemoryAccess: @0x0000004d8c64 0xffffffffef60 size=8 is_write=0 shadow_mem=0x003fffffbd80 {0, 0, 0, 0}
#0: MemoryAccess: @0x0000004d8ca4 0xfffff7a30378 size=4 is_write=0 shadow_mem=0x003fde8c0de0 {400000002090, 0, 0, 0}
#0: FuncEntry 0x0000004d8ccc
#0: FuncExit
#0: FuncEntry 0x0000004d8d60
#0: MemoryAccess: @0x0000004d8ebc 0xfffff7a30378 size=4 is_write=0 shadow_mem=0x003fde8c0de0 {400000002090, 0, 0, 0}
#0: MemoryAccess: @0x0000004d8ed4 0xffffffffef58 size=4 is_write=0 shadow_mem=0x003fffffbd60 {40000000208f, 0, 0, 0}
#0: MemoryAccess: @0x0000004d8eec 0xfffff7a30378 size=4 is_write=1 shadow_mem=0x003fde8c0de0 {400000002090, 0, 0, 0}
#0: FuncExit
#0: FuncExit
#0: FuncExit
#0: MemoryAccess: @0x0000004d8224 0x000000526cac size=4 is_write=1 shadow_mem=0x00200149b2a0 {0, 0, 0, 0}
#0: FuncEntry 0x0000004d84b0
#0: MemoryAccess: @0x000000430a14 0x00000108e860 size=1 is_write=1 shadow_mem=0x00200423a180 {0, 0, 0, 0}
#0: FuncExit
#0: FuncEntry 0x0000004d84c4
#0: FuncExit
#0: MemoryAccess: @0x0000004d84dc 0x00000108e850 size=8 is_write=1 shadow_mem=0x00200423a140 {0, 0, 0, 0}
#0: MemoryAccess: @0x0000004d84f0 0x00000108e850 size=8 is_write=0 shadow_mem=0x00200423a140 {6000000020a0, 0, 0, 0}
#0: MemoryAccess: @0x0000004d8514 0x00000108e830 size=8 is_write=1 shadow_mem=0x00200423a0c0 {0, 0, 0, 0}
#0: MemoryAccess: @0x0000004d8528 0x00000108e830 size=8 is_write=0 shadow_mem=0x00200423a0c0 {6000000020a1, 0, 0, 0}
#0: MemoryAccess: @0x0000004d8580 0x00000108e850 size=8 is_write=0 shadow_mem=0x00200423a140 {6000000020a0, 0, 0, 0}
#0: MemoryAccess: @0x0000004d85a0 0x00000108e838 size=8 is_write=1 shadow_mem=0x00200423a0e0 {0, 0, 0, 0}
#0: MemoryAccess: @0x0000004d85b4 0x00000108e838 size=8 is_write=0 shadow_mem=0x00200423a0e0 {6000000020a2, 0, 0, 0}
#0: MemoryAccess: @0x0000004d860c 0x00000108e850 size=8 is_write=0 shadow_mem=0x00200423a140 {6000000020a0, 0, 0, 0}
#0: MemoryAccess: @0x0000004d8630 0x00000108e840 size=8 is_write=1 shadow_mem=0x00200423a100 {0, 0, 0, 0}
#0: MemoryAccess: @0x0000004d8644 0x00000108e840 size=8 is_write=0 shadow_mem=0x00200423a100 {6000000020a3, 0, 0, 0}
#0: MemoryAccess: @0x0000004d869c 0x00000108e850 size=8 is_write=0 shadow_mem=0x00200423a140 {6000000020a0, 0, 0, 0}
#0: MemoryAccess: @0x0000004d86c0 0x00000108e848 size=8 is_write=1 shadow_mem=0x00200423a120 {0, 0, 0, 0}
#0: MemoryAccess: @0x0000004d86d4 0x00000108e848 size=8 is_write=0 shadow_mem=0x00200423a120 {6000000020a4, 0, 0, 0}
#0: MemoryAccess: @0x0000004d872c 0x00000108e830 size=8 is_write=0 shadow_mem=0x00200423a0c0 {6000000020a1, 0, 0, 0}
#0: MemoryAccess: @0x0000004d8750 0x00000108e838 size=8 is_write=0 shadow_mem=0x00200423a0e0 {6000000020a2, 0, 0, 0}
#0: MemoryAccess: @0x0000004d8774 0x00000108e840 size=8 is_write=0 shadow_mem=0x00200423a100 {6000000020a3, 0, 0, 0}
#0: MemoryAccess: @0x0000004d8798 0x00000108e848 size=8 is_write=0 shadow_mem=0x00200423a120 {6000000020a4, 0, 0, 0}
#0: MemoryAccess: @0x0000004d87f4 0x00000108e830 size=8 is_write=0 shadow_mem=0x00200423a0c0 {6000000020a1, 0, 0, 0}
#0: MemoryAccess: @0x0000004d8814 0x00000108e838 size=8 is_write=0 shadow_mem=0x00200423a0e0 {6000000020a2, 0, 0, 0}
#0: MemoryAccess: @0x0000004d8834 0x00000108e840 size=8 is_write=0 shadow_mem=0x00200423a100 {6000000020a3, 0, 0, 0}
#0: MemoryAccess: @0x0000004d8854 0x00000108e848 size=8 is_write=0 shadow_mem=0x00200423a120 {6000000020a4, 0, 0, 0}
#0: FuncEntry 0x0000004d8874
#0: FuncEntry 0x0000004606b0
#0: FuncEntry 0xfffff7af3664
#0: FuncExit
#0: FuncExit
#0: FuncExit
#0: MemoryAccess: @0x0000004d88a0 0x000000526cac size=4 is_write=0 shadow_mem=0x00200149b2a0 {500000002099, 0, 0, 0}
#0: MemoryAccess: @0x0000004d88cc 0x00000108e838 size=8 is_write=0 shadow_mem=0x00200423a0e0 {6000000020a2, 0, 0, 0}
#0: MemoryAccess: @0x0000004d88e0 0xfffff5003c00 size=4 is_write=1 shadow_mem=0x003fd400f000 {60000000209e, 0, 0, 0}
#0: MemoryAccess: @0x0000004d8904 0x00000108e830 size=8 is_write=0 shadow_mem=0x00200423a0c0 {6000000020a1, 0, 0, 0}
#0: MemoryAccess: @0x0000004d8918 0xfffff5003c40 size=4 is_write=1 shadow_mem=0x003fd400f100 {60000000209e, 0, 0, 0}
#0: MemoryAccess: @0x0000004d8938 0x00000108e858 size=4 is_write=0 shadow_mem=0x00200423a160 {0, 0, 0, 0}
#0: FuncEntry 0x0000004d895c
#0: FuncEntry 0x0000004d8f88
#0: FuncExit
#0: FuncEntry 0xfffff7f62f74
#0: FuncExit
#0: FuncEntry 0xfffff7f62f88
#0: FuncExit
#0: FuncEntry 0x0000004d902c
#0: FuncEntry 0xfffff7fc0340
#0: FuncExit
#0: FuncExit
#1: FuncEntry 0x00000042abfc
#0: FuncExit
#1: MemoryAccess: @0x0000004d7fbc 0x00000108e838 size=8 is_write=0 shadow_mem=0x00200423a0e0 {6000000020a2, 0, 0, 0}
#0: MemoryAccess: @0x0000004d8974 0x000000526ca8 size=4 is_write=0 shadow_mem=0x00200149b2a0 {500000002099, 0, 0, 0}
#0: FuncEntry 0x0000004d899c
#1: MemoryAccess: @0x0000004d7fd0 0x00000108e840 size=8 is_write=0 shadow_mem=0x00200423a100 {6000000020a3, 0, 0, 0}
#0: FuncEntry 0x0000004d8f88
#1: MemoryAccess: @0x0000004d7fe4 0x00000108e848 size=8 is_write=0 shadow_mem=0x00200423a120 {6000000020a4, 0, 0, 0}
#0: FuncExit
#1: MemoryAccess: @0x0000004d7ff8 0x00000108e850 size=8 is_write=0 shadow_mem=0x00200423a140 {6000000020a0, 0, 0, 0}
#0: FuncEntry 0xfffff7f62f74
#1: FuncEntry 0x0000004d8008
#0: FuncExit
#0: FuncEntry 0xfffff7f62f88
#0: FuncExit
#0: FuncEntry 0x0000004d902c
#1: MemoryAccess: @0x000000430d68 0x00000108e860 size=1 is_write=0 shadow_mem=0x00200423a180 {209b, 0, 0, 0}
#2: FuncEntry 0x00000042abfc
#0: FuncExit
#2: MemoryAccess: @0x0000004d80bc 0x00000108e830 size=8 is_write=0 shadow_mem=0x00200423a0c0 {6000000020a1, 0, 0, 0}
#0: FuncExit
#2: MemoryAccess: @0x0000004d80d0 0x00000108e838 size=8 is_write=0 shadow_mem=0x00200423a0e0 {6000000020a2, 4e00000002002, 0, 0}
#0: FuncEntry 0x0000004d89ac
#2: FuncEntry 0x0000004d80e0
#0: MemoryAccess: @0x000000430d68 0x00000108e860 size=1 is_write=0 shadow_mem=0x00200423a180 {209b, 4800000002008, 0, 0}
#2: MemoryAccess: @0x000000430d68 0x00000108e860 size=1 is_write=0 shadow_mem=0x00200423a180 {209b, 4800000002008, 8000000020d3, 0}
#2: MemoryAccess: @0x000000430d68 0x00000108e860 size=1 is_write=0 shadow_mem=0x00200423a180 {209b, 4800000002008, 8000000020d3, 8800000002006}
#1: MemoryAccess: @0x000000430d68 0x00000108e860 size=1 is_write=0 shadow_mem=0x00200423a180 {209b, 4800000002008, 8000000020d3, 8800000002006}
#0: MemoryAccess: @0x000000430d68 0x00000108e860 size=1 is_write=0 shadow_mem=0x00200423a180 {209b, 4800000002008, 8000000020d3, 8800000002006}
#0: FuncExit
#0: FuncEntry 0x0000004d89c0
#2: FuncExit
#1: FuncExit
#2: MemoryAccess: @0x0000004d80e8 0xfffff5003c00 size=4 is_write=0 shadow_mem=0x003fd400f000 {60000000209e, 4000000020ac, 0, 0}
#1: MemoryAccess: @0x0000004d8018 0x000000526ca0 size=4 is_write=0 shadow_mem=0x00200149b280 {0, 0, 0, 0}
#2: MemoryAccess: @0x0000004d80fc 0x00000108e840 size=8 is_write=0 shadow_mem=0x00200423a100 {6000000020a3, 4e00000002003, 0, 0}
#1: MemoryAccess: @0x0000004d802c 0x000000526ca4 size=4 is_write=0 shadow_mem=0x00200149b280 {4c0000000200a, 0, 0, 0}
#2: MemoryAccess: @0x0000004d8108 0xfffff5003c80 size=4 is_write=1 shadow_mem=0x003fd400f200 {60000000209e, 0, 0, 0}
#1: MemoryAccess: @0x0000004d8040 0xfffff5003c40 size=4 is_write=1 shadow_mem=0x003fd400f100 {60000000209e, 4000000020ad, 0, 0}
#2: MemoryAccess: @0x0000004d8118 0xfffff5003c40 size=4 is_write=0 shadow_mem=0x003fd400f100 {60000000209e, 4000000020ad, 0, 0}
#1: MemoryAccess: @0x0000004d8050 0xfffff5003c00 size=4 is_write=1 shadow_mem=0x003fd400f000 {60000000209e, 4000000020ac, 8c00000002008, 0}
==================
WARNING: ThreadSanitizer: data race (pid=15781)
  Read of size 4 at 0xfffff5003c40 by thread T2:
    #0 thread2_routine(void*) /root/workdir/fence-demo-main/dependency-related/thread.cpp:29:11 (data+0x4d8114)

  Previous write of size 4 at 0xfffff5003c40 by thread T1:
    #0 thread1_routine(void*) /root/workdir/fence-demo-main/dependency-related/thread.cpp:16:8 (data+0x4d803c)

  Location is heap block of size 1024 at 0xfffff5003c00 allocated by main thread:
    #0 malloc /root/workdir/llvm-project/llvm-project-10.0.0/compiler-rt/lib/tsan/rtl/tsan_interceptors_posix.cpp:651 (data+0x45f214)
    #1 main /root/workdir/fence-demo-main/dependency-related/RW-dep.cpp:56:30 (data+0x4d84c0)

  Thread T2 (tid=15784, running) created by main thread at:
    #0 pthread_create /root/workdir/llvm-project/llvm-project-10.0.0/compiler-rt/lib/tsan/rtl/tsan_interceptors_posix.cpp:962 (data+0x42e904)
    #1 thread_aff_create(int, unsigned long*, pthread_attr_t const*, void* (*)(void*), void*) /root/workdir/fence-demo-main/dependency-related/../libpthread/pthread_utility.cpp:12:16 (data+0x4d9028)
    #2 main /root/workdir/fence-demo-main/dependency-related/RW-dep.cpp:75:9 (data+0x4d8998)

  Thread T1 (tid=15783, running) created by main thread at:
    #0 pthread_create /root/workdir/llvm-project/llvm-project-10.0.0/compiler-rt/lib/tsan/rtl/tsan_interceptors_posix.cpp:962 (data+0x42e904)
    #1 thread_aff_create(int, unsigned long*, pthread_attr_t const*, void* (*)(void*), void*) /root/workdir/fence-demo-main/dependency-related/../libpthread/pthread_utility.cpp:12:16 (data+0x4d9028)
    #2 main /root/workdir/fence-demo-main/dependency-related/RW-dep.cpp:74:9 (data+0x4d8958)

SUMMARY: ThreadSanitizer: data race /root/workdir/fence-demo-main/dependency-related/thread.cpp:29:11 in thread2_routine(void*)
==================
#2: MemoryAccess: @0x0000004d812c 0x00000108e848 size=8 is_write=0 shadow_mem=0x00200423a120 {6000000020a4, 4e00000002004, 0, 0}
#2: MemoryAccess: @0x0000004d8138 0xfffff5003cc0 size=4 is_write=1 shadow_mem=0x003fd400f300 {60000000209e, 0, 0, 0}
#2: FuncExit
==================
WARNING: ThreadSanitizer: data race (pid=15781)
  Write of size 4 at 0xfffff5003c00 by thread T1:
    #0 thread1_routine(void*) /root/workdir/fence-demo-main/dependency-related/thread.cpp:18:8 (data+0x4d804c)

  Previous read of size 4 at 0xfffff5003c00 by thread T2:
    #0 thread2_routine(void*) /root/workdir/fence-demo-main/dependency-related/thread.cpp:27:11 (data+0x4d80e4)

  Location is heap block of size 1024 at 0xfffff5003c00 allocated by main thread:
    #0 malloc /root/workdir/llvm-project/llvm-project-10.0.0/compiler-rt/lib/tsan/rtl/tsan_interceptors_posix.cpp:651 (data+0x45f214)
    #1 main /root/workdir/fence-demo-main/dependency-related/RW-dep.cpp:56:30 (data+0x4d84c0)

  Thread T1 (tid=15783, running) created by main thread at:
    #0 pthread_create /root/workdir/llvm-project/llvm-project-10.0.0/compiler-rt/lib/tsan/rtl/tsan_interceptors_posix.cpp:962 (data+0x42e904)
    #1 thread_aff_create(int, unsigned long*, pthread_attr_t const*, void* (*)(void*), void*) /root/workdir/fence-demo-main/dependency-related/../libpthread/pthread_utility.cpp:12:16 (data+0x4d9028)
    #2 main /root/workdir/fence-demo-main/dependency-related/RW-dep.cpp:74:9 (data+0x4d8958)

  Thread T2 (tid=15784, running) created by main thread at:
    #0 pthread_create /root/workdir/llvm-project/llvm-project-10.0.0/compiler-rt/lib/tsan/rtl/tsan_interceptors_posix.cpp:962 (data+0x42e904)
    #1 thread_aff_create(int, unsigned long*, pthread_attr_t const*, void* (*)(void*), void*) /root/workdir/fence-demo-main/dependency-related/../libpthread/pthread_utility.cpp:12:16 (data+0x4d9028)
    #2 main /root/workdir/fence-demo-main/dependency-related/RW-dep.cpp:75:9 (data+0x4d8998)

SUMMARY: ThreadSanitizer: data race /root/workdir/fence-demo-main/dependency-related/thread.cpp:18:8 in thread1_routine(void*)
==================
#1: MemoryAccess: @0x0000004d8060 0xfffff5003c80 size=4 is_write=1 shadow_mem=0x003fd400f200 {60000000209e, 840000000200a, 0, 0}
==================
WARNING: ThreadSanitizer: data race (pid=15781)
  Write of size 4 at 0xfffff5003c80 by thread T1:
    #0 thread1_routine(void*) /root/workdir/fence-demo-main/dependency-related/thread.cpp:19:9 (data+0x4d805c)

  Previous write of size 4 at 0xfffff5003c80 by thread T2:
    #0 thread2_routine(void*) /root/workdir/fence-demo-main/dependency-related/thread.cpp:27:9 (data+0x4d8104)

  Location is heap block of size 1024 at 0xfffff5003c00 allocated by main thread:
    #0 malloc /root/workdir/llvm-project/llvm-project-10.0.0/compiler-rt/lib/tsan/rtl/tsan_interceptors_posix.cpp:651 (data+0x45f214)
    #1 main /root/workdir/fence-demo-main/dependency-related/RW-dep.cpp:56:30 (data+0x4d84c0)

  Thread T1 (tid=15783, running) created by main thread at:
    #0 pthread_create /root/workdir/llvm-project/llvm-project-10.0.0/compiler-rt/lib/tsan/rtl/tsan_interceptors_posix.cpp:962 (data+0x42e904)
    #1 thread_aff_create(int, unsigned long*, pthread_attr_t const*, void* (*)(void*), void*) /root/workdir/fence-demo-main/dependency-related/../libpthread/pthread_utility.cpp:12:16 (data+0x4d9028)
    #2 main /root/workdir/fence-demo-main/dependency-related/RW-dep.cpp:74:9 (data+0x4d8958)

  Thread T2 (tid=15784, finished) created by main thread at:
    #0 pthread_create /root/workdir/llvm-project/llvm-project-10.0.0/compiler-rt/lib/tsan/rtl/tsan_interceptors_posix.cpp:962 (data+0x42e904)
    #1 thread_aff_create(int, unsigned long*, pthread_attr_t const*, void* (*)(void*), void*) /root/workdir/fence-demo-main/dependency-related/../libpthread/pthread_utility.cpp:12:16 (data+0x4d9028)
    #2 main /root/workdir/fence-demo-main/dependency-related/RW-dep.cpp:75:9 (data+0x4d8998)

SUMMARY: ThreadSanitizer: data race /root/workdir/fence-demo-main/dependency-related/thread.cpp:19:9 in thread1_routine(void*)
==================
#1: MemoryAccess: @0x0000004d8070 0xfffff5003cc0 size=4 is_write=1 shadow_mem=0x003fd400f300 {60000000209e, 840000000200d, 0, 0}
==================
WARNING: ThreadSanitizer: data race (pid=15781)
  Write of size 4 at 0xfffff5003cc0 by thread T1:
    #0 thread1_routine(void*) /root/workdir/fence-demo-main/dependency-related/thread.cpp:20:9 (data+0x4d806c)

  Previous write of size 4 at 0xfffff5003cc0 by thread T2:
    #0 thread2_routine(void*) /root/workdir/fence-demo-main/dependency-related/thread.cpp:29:9 (data+0x4d8134)

  Location is heap block of size 1024 at 0xfffff5003c00 allocated by main thread:
    #0 malloc /root/workdir/llvm-project/llvm-project-10.0.0/compiler-rt/lib/tsan/rtl/tsan_interceptors_posix.cpp:651 (data+0x45f214)
    #1 main /root/workdir/fence-demo-main/dependency-related/RW-dep.cpp:56:30 (data+0x4d84c0)

  Thread T1 (tid=15783, running) created by main thread at:
    #0 pthread_create /root/workdir/llvm-project/llvm-project-10.0.0/compiler-rt/lib/tsan/rtl/tsan_interceptors_posix.cpp:962 (data+0x42e904)
    #1 thread_aff_create(int, unsigned long*, pthread_attr_t const*, void* (*)(void*), void*) /root/workdir/fence-demo-main/dependency-related/../libpthread/pthread_utility.cpp:12:16 (data+0x4d9028)
    #2 main /root/workdir/fence-demo-main/dependency-related/RW-dep.cpp:74:9 (data+0x4d8958)

  Thread T2 (tid=15784, finished) created by main thread at:
    #0 pthread_create /root/workdir/llvm-project/llvm-project-10.0.0/compiler-rt/lib/tsan/rtl/tsan_interceptors_posix.cpp:962 (data+0x42e904)
    #1 thread_aff_create(int, unsigned long*, pthread_attr_t const*, void* (*)(void*), void*) /root/workdir/fence-demo-main/dependency-related/../libpthread/pthread_utility.cpp:12:16 (data+0x4d9028)
    #2 main /root/workdir/fence-demo-main/dependency-related/RW-dep.cpp:75:9 (data+0x4d8998)

SUMMARY: ThreadSanitizer: data race /root/workdir/fence-demo-main/dependency-related/thread.cpp:20:9 in thread1_routine(void*)
==================
#1: FuncExit
#0: FuncExit
#0: FuncEntry 0x0000004d89d0
#0: FuncExit
#0: MemoryAccess: @0x0000004d89e8 0x00000108e840 size=8 is_write=0 shadow_mem=0x00200423a100 {6000000020a3, 8e00000002009, 0, 0}
#0: MemoryAccess: @0x0000004d89fc 0xfffff5003c80 size=4 is_write=0 shadow_mem=0x003fd400f200 {60000000209e, 840000000200a, 0, 0}
#0: MemoryAccess: @0x0000004d88a0 0x000000526cac size=4 is_write=0 shadow_mem=0x00200149b2a0 {500000002099, c000000020c1, 0, 0}
#0: MemoryAccess: @0x0000004d8aa0 0x00000108e82c size=4 is_write=0 shadow_mem=0x00200423a0a0 {0, 0, 0, 0}
#0: MemoryAccess: @0x0000004d8ac0 0x000000526cac size=4 is_write=0 shadow_mem=0x00200149b2a0 {500000002099, c000000020c1, d000000020db, 0}
#0: FuncEntry 0x0000004d8ad8
#0: FuncEntry 0x0000004606b0
#0: FuncExit
#0: FuncExit
#0: FuncExit
#0: FuncEntry 0xfffff7eb6fc8
#0: FuncExit
#0: FuncEntry 0xfffff7eb6fc8
#0: FuncExit
#0: FuncEntry 0xfffff7eb6fc8
#0: FuncExit
#0: FuncEntry 0xfffff7eb9828
#0: FuncExit
#0: FuncEntry 0xfffff7eb9828
#0: FuncExit
#0: FuncEntry 0xfffff7eb9828
#0: FuncExit
ThreadSanitizer: reported 4 warnings
